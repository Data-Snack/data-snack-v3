#!/bin/bash\n\n# Data Snack v3 - Development Setup Script\n# Starts all services for local development\n\nset -e\n\necho \"üöÄ Data Snack v3 - Development Setup\"\necho \"====================================\"\n\n# Colors\nGREEN='\\033[0;32m'\nYELLOW='\\033[1;33m'\nRED='\\033[0;31m'\nNC='\\033[0m'\n\n# Check if we're in the right directory\nif [ ! -f \"package.json\" ] || [ ! -f \"turbo.json\" ]; then\n    echo -e \"${RED}Error: Not in project root directory${NC}\"\n    exit 1\nfi\n\n# Check if pnpm is installed\ncommand -v pnpm >/dev/null 2>&1 || {\n    echo -e \"${RED}Error: pnpm is not installed${NC}\"\n    echo \"Install it with: npm install -g pnpm\"\n    exit 1\n}\n\n# Install dependencies\necho -e \"${YELLOW}üì¶ Installing dependencies...${NC}\"\npnpm install\n\n# Build packages\necho -e \"${YELLOW}üî® Building packages...${NC}\"\npnpm turbo build --filter=\"@data-snack/*\" || {\n    echo -e \"${RED}Build failed. Check the errors above.${NC}\"\n    exit 1\n}\n\necho -e \"${GREEN}‚úÖ Build successful!${NC}\"\n\n# Check environment files\necho -e \"${YELLOW}üîç Checking environment configuration...${NC}\"\n\nif [ ! -f \"apps/web/.env.local\" ]; then\n    echo -e \"${YELLOW}‚ö†Ô∏è  No .env.local found. Creating from template...${NC}\"\n    cp apps/web/.env.example apps/web/.env.local\n    echo -e \"${YELLOW}üìù Please edit apps/web/.env.local with your configuration${NC}\"\nelse\n    echo -e \"${GREEN}‚úÖ Environment file found${NC}\"\nfi\n\n# Ask what to start\necho\necho \"What would you like to start?\"\necho \"1) Everything (Web + Tracking Server)\"\necho \"2) Web app only\"\necho \"3) Tracking server only\"\necho \"4) Exit\"\nread -p \"Enter choice (1-4): \" choice\n\ncase $choice in\n    1)\n        echo -e \"${YELLOW}üöÄ Starting all services...${NC}\"\n        echo \"Web app: http://localhost:3000\"\n        echo \"Tracking server: http://localhost:8080\"\n        echo \"API Health: http://localhost:3000/api/health\"\n        echo\n        echo \"Press Ctrl+C to stop all services\"\n        echo\n        pnpm dev\n        ;;\n    2)\n        echo -e \"${YELLOW}üåê Starting web app only...${NC}\"\n        echo \"Web app: http://localhost:3000\"\n        echo \"API Health: http://localhost:3000/api/health\"\n        echo\n        pnpm --filter @data-snack/web dev\n        ;;\n    3)\n        echo -e \"${YELLOW}üîß Starting tracking server only...${NC}\"\n        echo \"Tracking server: http://localhost:8080\"\n        echo \"Health check: http://localhost:8080/health\"\n        echo\n        pnpm --filter tracking-server dev\n        ;;\n    4)\n        echo -e \"${GREEN}üëã Goodbye!${NC}\"\n        exit 0\n        ;;\n    *)\n        echo -e \"${RED}Invalid choice${NC}\"\n        exit 1\n        ;;\nesac\n